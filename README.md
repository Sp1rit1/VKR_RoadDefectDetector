## Проект: Обнаружение ям с помощью квадрокоптера с камерой

## Команды участвовавшие в разработке проекта
- Команда Грок - Костюнин Роман Евгеньевич(АУБП-23), Фролова Лада Дмитриевна(АУБП-23), Сотников Алексей Александрович(АУБП-23), Кузнецов Данил Константинович(АУБП-23), Выдрин Владимир Максимович(НФ-23).
- Команда OMG - Храмцов Дмитрий Олегович(АУБП-23), Симонова Арина Игоревна(АУБП-23), Тайболин Яков Геннадьевич(АУБП-23), Порошин Артем Русланович(АУБП-23),  Панин Владислав Сергеевич(АУБП-23).
- Команда Шахи - Неуймин Нестор Константинович(ШС-23),  Бачурин Николай Алексеевич(ШС-23), Бехтерев Илья Алексеевич(ШС-23), Игнатьев Константин Николаевич(ШС-23)

## Цель работы  
- Разработка и реализация прототипа системы, предназначенной для мониторинга состояния дорожного покрытия. Система использует беспилотный летательный аппарат (БПЛА), оснащённый камерой, для съёмки дорожного полотна, передаёт полученные изображения на сервер, где в дальнейшем осуществляется их обработка с использованием методов компьютерного зрения и искусственного интеллекта.

## Ожидаемый результат  
- Система аэрофотосъемки дорожного покрытия
- Алгоритм компьютерного зрения для автоматического обнаружения дефектов
- Карта ям с точными координатами для планирования ремонтных работ

## Стек технлогий 
- Языки программирования: Python
- Фреймворки: ROS (Robot Operating System)
- Библиотеки компьютерного зрения: OpenCV 
- Сетевое взаимодействие: HTTP через библиотеку requests
- Симулятор/платформа: Clover COEX 4 (квадрокоптерная платформа)

## Аппаратная часть 
- Проект реализован для квадрокоптера Clover COEX 4 , включая:
  - Основной квадрокоптер с полетным контроллером
  - Камеру для съемки дорожного покрытия
  - Светодиодную индикацию для визуального отображения состояния системы

## Программная реализация   
- Квадрокоптер выполняет запрограммированный маршрут съемки 
- На каждой точке маршрута делается снимок дорожного покрытия
- Изображение передается на сервер для анализа
- Сервер детектирует состояние дороги:
  - Не дорога
  - Нормальная дорога
  - Трещина
  - Яма
- В зависимости от ответа сервера:
  - При обнаружении серьёзных дефектов, таких как «яма» или «трещина», дрон использует цветовую идентификацию
  - При состоянии "не дорога" возвращается на исходную позицию
  - При состоянии "нормальная дорога" продолжает маршрут
- Все данные сохраняются для последующего анализа и составления карты дефектов

## Основная логика полета и обработки изображений:

import time
import requests
import rospy
import cv2
from cv_bridge import CvBridge
from sensor_msgs.msg import Image
from clover import srv
from std_srvs.srv import Trigger
from clover.srv import SetLEDEffect
import math

rospy.init_node('flight')

get_telemetry = rospy.ServiceProxy('get_telemetry', srv.GetTelemetry)
navigate = rospy.ServiceProxy('navigate', srv.Navigate)
set_effect = rospy.ServiceProxy('led/set_effect', SetLEDEffect)
land = rospy.ServiceProxy('land', Trigger)

def navigate_wait(x=0, y=0, z=0, yaw=float('nan'), speed=0.5, frame_id='', auto_arm=False, tolerance=0.2):
    print(f"Лечу в точку: x={x}, y={y}, z={z}, frame_id={frame_id}")
    navigate(x=x, y=y, z=z, yaw=yaw, speed=speed, frame_id=frame_id, auto_arm=auto_arm)
    while not rospy.is_shutdown():
        telem = get_telemetry(frame_id='navigate_target')
        distance = math.sqrt(telem.x ** 2 + telem.y ** 2 + telem.z ** 2)
        if distance < tolerance:
            print("Точка достигнута!")
            break
        rospy.sleep(0.2)

 ... (полный код в файле проекта)

## Перспективы развития  
- Интеграция модуля машинного зрения для анализа изображений в реальном времени  
- Добавление геолокации и привязки данных к координатам  
- Использование более мощных моделей нейросетей для точного распознавания дефектов  
- Разработка интерфейса отображения результатов анализа
